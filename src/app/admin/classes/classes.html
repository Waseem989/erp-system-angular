<div class="class-boxes">
  <div class="class-box left" (click)="openPopup('11')">Class 11</div>
  <div class="class-box right" (click)="openPopup('12')">Class 12</div>
</div>

<!-- Popup Modal -->
<div *ngIf="showPopup" class="popup">
  <h3>Select Teacher for Class {{ selectedClass }}</h3>
  <select [(ngModel)]="selectedTeacherId">
    <option *ngFor="let t of teachers" [value]="t.id">{{ t.name }} - {{ t.subject }}</option>
  </select>

  <h4>Students of Class {{ selectedClass }}</h4>
  <ul class="student-list">
    <li *ngFor="let s of matchedStudents">
      {{ s.name }} ({{ s.roll_no }})
    </li>
  </ul>

  <div class="form-actions">
    <button (click)="saveClass()">Save</button>
    <button (click)="closePopup()">Cancel</button>
  </div>
</div>

<!-- Class-wise Saved Tables -->
<div class="class-lists">
  <div class="saved-wrapper">
    <h3>Class 11 Records</h3>
    <div *ngFor="let c of getClassesByNumber('11'); let i = index" class="saved-class">
      <div class="header">
        <strong>{{ c.teacher }} - {{ c.subject }}</strong>
        <button (click)="deleteClass(savedClasses.indexOf(c))">Delete</button>
      </div>
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Roll No</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let s of c.students; let j = index">
            <td>{{ j + 1 }}</td>
            <td>{{ s.name }}</td>
            <td>{{ s.roll_no }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="saved-wrapper">
    <h3>Class 12 Records</h3>
    <div *ngFor="let c of getClassesByNumber('12'); let i = index" class="saved-class">
      <div class="header">
        <strong>{{ c.teacher }} - {{ c.subject }}</strong>
        <button (click)="deleteClass(savedClasses.indexOf(c))">Delete</button>
      </div>
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Roll No</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let s of c.students; let j = index">
            <td>{{ j + 1 }}</td>
            <td>{{ s.name }}</td>
            <td>{{ s.roll_no }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
